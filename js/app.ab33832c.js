(function(){"use strict";var e={161:function(e,t,a){var n=a(9242),o=a(3396);function r(e,t,a,n,r,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)("MainLayout"))}const s={class:"container"};function i(e,t,a,n,r,i){const l=(0,o.up)("the-header"),p=(0,o.up)("app-banner"),c=(0,o.up)("home-page");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",s,[(0,o.Wm)(l)]),(0,o.Wm)(p),(0,o.Wm)(c)],64)}var l=a.p+"img/logo.0902afb7.svg";const p=e=>((0,o.dD)("data-v-7fc6d818"),e=e(),(0,o.Cn)(),e),c={class:"header"},u=p((()=>(0,o._)("div",{class:"header__logo"},[(0,o._)("img",{src:l,alt:"logo"})],-1))),d={class:"btn-group"};function h(e,t,a,n,r,s){const i=(0,o.up)("app-button");return(0,o.wg)(),(0,o.iD)("div",c,[u,(0,o._)("div",d,[(0,o.Wm)(i,{text:"Users"}),(0,o.Wm)(i,{text:"Sing up"})])])}var m=a(7139);const g=["disabled","type"];function v(e,t,a,n,r,s){return(0,o.wg)(),(0,o.iD)("button",{class:"btn",disabled:a.disabled,type:a.type,style:(0,m.j5)({margin:a.center?"auto":""}),onClick:t[0]||(t[0]=t=>e.$emit("action"))},(0,m.zw)(a.text),13,g)}var _={name:"AppButton",emits:["action"],props:{text:{type:String,default:"Text"},disabled:{type:Boolean,require:!1,default:!1},type:{type:String,require:!1,default:"button"},center:{type:Boolean,require:!1,default:!1}}},f=a(89);const y=(0,f.Z)(_,[["render",v],["__scopeId","data-v-6ad7ddfc"]]);var b=y,w={name:"TheHeader",components:{AppButton:b}};const k=(0,f.Z)(w,[["render",h],["__scopeId","data-v-7fc6d818"]]);var x=k;const $=e=>((0,o.dD)("data-v-e5d96a52"),e=e(),(0,o.Cn)(),e),S={class:"banner"},z={class:"banner__content"},D=$((()=>(0,o._)("h2",{class:"title banner__title"},"Test assignment for front-end developer",-1))),V=$((()=>(0,o._)("p",{class:"banner__text"}," What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving. ",-1)));function q(e,t,a,n,r,s){const i=(0,o.up)("app-button");return(0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("div",z,[D,V,(0,o.Wm)(i,{text:"Sign up",center:""})])])}var T={name:"AppBanner",components:{AppButton:b}};const U=(0,f.Z)(T,[["render",q],["__scopeId","data-v-e5d96a52"]]);var X=U;const j=e=>((0,o.dD)("data-v-0e3ddd7d"),e=e(),(0,o.Cn)(),e),C={class:"container"},W={class:"section section-get"},P=j((()=>(0,o._)("h2",{class:"title section-get__title"},"Working with GET request",-1))),O={class:"section section-post"};function L(e,t,a,n,r,s){const i=(0,o.up)("card-list"),l=(0,o.up)("the-registration-form");return(0,o.wg)(),(0,o.iD)("div",C,[(0,o._)("section",W,[P,(0,o.Wm)(i)]),(0,o._)("section",O,[(0,o.Wm)(l)])])}const E={key:0,class:"card-list"},I={class:"card-list__btn-wrapper btn-group"};function A(e,t,a,n,r,s){const i=(0,o.up)("card-item"),l=(0,o.up)("app-button");return s.users?((0,o.wg)(),(0,o.iD)("div",E,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.users,(e=>((0,o.wg)(),(0,o.j4)(i,{key:e.id,user:e},null,8,["user"])))),128)),(0,o._)("div",I,[1!==e.$store.state.page.cur?((0,o.wg)(),(0,o.j4)(l,{key:0,text:"Back",center:"",onAction:t[0]||(t[0]=e=>s.changePage("prev"))})):(0,o.kq)("",!0),(0,o.Wm)(l,{text:"Show more",center:"",disabled:e.$store.state.page.cur===e.$store.state.page.total,onAction:t[1]||(t[1]=e=>s.changePage("next"))},null,8,["disabled"])])])):(0,o.kq)("",!0)}const B={class:"card"},Z={class:"card__image"},H=["src"],M=["data-title"],F={class:"card__info"},R={class:"card__position"},N=["data-title"],Y=["title"];function K(e,t,a,n,r,s){return(0,o.wg)(),(0,o.iD)("div",B,[(0,o._)("div",Z,[(0,o._)("img",{src:a.user.photo,alt:"user",width:"70",height:"70"},null,8,H)]),(0,o._)("div",{class:(0,m.C_)(["card__name",{dataTitle:a.user.name.length>38}]),"data-title":a.user.name},(0,m.zw)(a.user.name.length>40?a.user.name.substring(0,38)+"...":a.user.name),11,M),(0,o._)("div",F,[(0,o._)("span",R,(0,m.zw)(a.user.position),1),(0,o._)("span",{class:(0,m.C_)(["card__email",{dataTitle:a.user.name.length>38}]),"data-title":a.user.email},(0,m.zw)(a.user.name.length>40?a.user.name.substring(0,38)+"...":a.user.name),11,N),(0,o._)("span",{class:"card__phone",title:a.user.phone},(0,m.zw)(a.user.phone),9,Y)])])}var G={name:"CardItem",props:{user:{type:Object,require:!0}}};const J=(0,f.Z)(G,[["render",K],["__scopeId","data-v-2b60477b"]]);var Q=J,ee={name:"CardList",components:{CardItem:Q,AppButton:b},computed:{users(){return this.$store.getters.users}},methods:{async changePage(e){const t="next"===e?this.$store.state.page.cur+1:this.$store.state.page.cur-1;this.$store.commit("changePage",t),await this.$store.dispatch("loadUsers")}}};const te=(0,f.Z)(ee,[["render",A],["__scopeId","data-v-07738efa"]]);var ae=te,ne=a.p+"img/success-image.1b73a76d.svg";const oe=e=>((0,o.dD)("data-v-cbeac57e"),e=e(),(0,o.Cn)(),e),re={key:0,class:"success"},se=oe((()=>(0,o._)("h2",{class:"title success__title"},"User successfully registered",-1))),ie=oe((()=>(0,o._)("img",{src:ne,alt:"success"},null,-1))),le=[se,ie],pe=oe((()=>(0,o._)("h2",{class:"title registration__title"},"Working with POST request",-1))),ce={class:"radio-group registration__radio-group"},ue={key:0,class:"radio-group__title"};function de(e,t,a,r,s,i){const l=(0,o.up)("app-input"),p=(0,o.up)("app-button");return s.success?((0,o.wg)(),(0,o.iD)("div",re,le)):((0,o.wg)(),(0,o.iD)("form",{key:1,class:"registration__form",onSubmit:t[5]||(t[5]=(0,n.iM)(((...e)=>i.submit&&i.submit(...e)),["prevent"]))},[pe,(0,o.Wm)(l,{placeholder:"Your name",width:"100%",error:s.errors.name,mb:"50px",modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e)},null,8,["error","modelValue"]),(0,o.Wm)(l,{placeholder:"Email",width:"100%",error:s.errors.email,mb:"50px",modelValue:s.email,"onUpdate:modelValue":t[1]||(t[1]=e=>s.email=e)},null,8,["error","modelValue"]),(0,o.Wm)(l,{placeholder:"Phone",width:"100%",type:"phone",error:s.errors.phone,label:"+38 (XXX) XXX - XX - XX",mb:"43px",modelValue:s.phone,"onUpdate:modelValue":t[2]||(t[2]=e=>s.phone=e)},null,8,["error","modelValue"]),(0,o._)("div",ce,[i.positions?((0,o.wg)(),(0,o.iD)("div",ue,"Select your position")):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.positions,(e=>((0,o.wg)(),(0,o.j4)(l,{key:e.id,type:"radio",label:e.name,error:s.errors.position,name:"position",val:e.id,modelValue:s.position,"onUpdate:modelValue":t[3]||(t[3]=e=>s.position=e)},null,8,["label","error","val","modelValue"])))),128))]),(0,o.Wm)(l,{type:"file",accept:"image/jpeg, image/jpg",placeholder:"Upload",label:s.photo?s.photo?.name:"Upload your photo",error:s.errors.photo,mb:"50px",modelValue:s.photo,"onUpdate:modelValue":t[4]||(t[4]=e=>s.photo=e)},null,8,["label","error","modelValue"]),(0,o.Wm)(p,{text:"Sing up",type:"submit",center:"",disabled:!s.name||!s.email||!s.phone||!s.position||!s.photo},null,8,["disabled"])],32))}const he=["type","max","name","id","placeholder","accept","maxlength"],me=["for"],ge=["for"],ve={key:2,class:"input-wrapper__error"};function _e(e,t,a,r,s,i){const l=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)("div",{class:(0,m.C_)(["input-wrapper",`input-wrapper_${a.type}`]),style:(0,m.j5)({width:a.width,marginBottom:a.mb})},[(0,o.wy)((0,o._)("input",{type:a.type,max:"phone"===a.type?"13":"",name:a.name,class:"input-wrapper_text__input input",id:a.label,placeholder:a.placeholder,accept:a.accept,maxlength:"phone"===a.type?13:60,onInput:t[0]||(t[0]=(...e)=>i.input&&i.input(...e))},null,40,he),[[n.F8,"text"===a.type||"phone"===a.type],[l,a.type]]),"file"===a.type||"radio"===a.type?((0,o.wg)(),(0,o.iD)("label",{key:0,class:(0,m.C_)([`input-wrapper_${a.type}__btn`,{input:"file"===a.type}]),for:a.label},(0,m.zw)("file"===a.type?"Upload":""),11,me)):(0,o.kq)("",!0),a.label&&!("phone"===a.type&&a.error||"text"===a.type&&a.error)?((0,o.wg)(),(0,o.iD)("label",{key:1,class:(0,m.C_)([`input-wrapper_${a.type}__label`,{input:"file"===a.type}]),for:a.label},(0,m.zw)(a.label),11,ge)):(0,o.kq)("",!0),a.error?((0,o.wg)(),(0,o.iD)("span",ve,(0,m.zw)(a.error),1)):(0,o.kq)("",!0)],6)}a(6699);var fe={name:"AppInput",emits:["update:modelValue"],props:{modelValue:[String,Object,Number],placeholder:{type:String,require:!1},type:{type:String,require:!1,default:"text",validator(e){return["text","radio","file","phone"].includes(e)}},width:{type:String,require:!1},mb:{type:String,require:!1},label:{type:String,require:!1},name:{type:String,require:!1},accept:{type:String,require:!1},val:{type:[String,Number],require:!1},error:{type:String,require:!1}},methods:{input(e){switch("radio"===this.type?this.$emit("update:modelValue",this.val):"text"!==this.type&&"phone"!==this.type||this.$emit("update:modelValue",e.target.value),this.type){case"radio":this.$emit("update:modelValue",this.val);break;case"text":this.$emit("update:modelValue",e.target.value);break;case"file":this.$emit("update:modelValue",e.target.files[0])}}}};const ye=(0,f.Z)(fe,[["render",_e],["__scopeId","data-v-7c88276b"]]);var be=ye,we={name:"TheRegistrationForm",components:{AppInput:be,AppButton:b},data(){return{name:"",email:"",phone:"",position:"",photo:"",errors:{name:"",email:"",phone:"",position:"",photo:""},success:!1}},computed:{positions(){return this.$store.getters.positions}},methods:{async submit(){if(this.validate(),0===Object.values(this.errors).join("").length){let t=new FormData;t.append("name",this.name),t.append("email",this.email),t.append("phone",this.phone),t.append("position_id",this.position),t.append("photo",this.photo);try{await this.$store.dispatch("createUser",t),this.success=!0}catch(e){console.log(e)}}},validate(){const e=new RegExp("^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[-\b\v\f-!#-[]-]|\\\\[-\t\v\f-])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[-\b\v\f-!-ZS-]|\\\\[-\t\v\f-])+)\\])$"),t=new RegExp("^[+]{0,1}380([0-9]{9})$");this.name.trim().length<2||this.name.trim().length>60?this.errors.name="User name, should be 2-60 characters":this.errors.name="",e.test(this.email.trim())?this.errors.email="":this.errors.email="Enter a valid email",t.test(this.phone)?this.errors.phone="":this.errors.phone="Enter a valid phone +38 (XXX) XXX - XX - XX",this.position.length<1?this.errors.position="Select your position":this.errors.position="",this.photo?this.photo&&this.photo?.size>5242880?this.errors.photo="Size of photo must not exceed 5MB":this.errors.photo="":this.errors.photo="Load a photo"}}};const ke=(0,f.Z)(we,[["render",de],["__scopeId","data-v-cbeac57e"]]);var xe=ke,$e={name:"HomePage",components:{TheRegistrationForm:xe,CardList:ae}};const Se=(0,f.Z)($e,[["render",L],["__scopeId","data-v-0e3ddd7d"]]);var ze=Se,De={name:"MainLayout",components:{HomePage:ze,TheHeader:x,AppBanner:X}};const Ve=(0,f.Z)(De,[["render",i]]);var qe=Ve,Te={name:"App",components:{MainLayout:qe},async mounted(){await this.$store.dispatch("loadPositions"),await this.$store.dispatch("loadUsers")}};const Ue=(0,f.Z)(Te,[["render",r]]);var Xe=Ue,je=(a(1703),a(65)),Ce=a(6265),We=a.n(Ce);const Pe=We().create({baseURL:"https://frontend-test-assignment-api.abz.agency/api/v1"});var Oe=Pe,Le=(0,je.MT)({state(){return{users:null,positions:null,page:{cur:1,total:null},token:null}},getters:{users:e=>e.users?.users||[],positions:e=>e.positions?.positions||[],token:e=>e.token?.token||null},mutations:{setUsers(e,t){e.users=t},setPositions(e,t){e.positions=t},changePage(e,t){e.page.cur=t},setToken(e,t){e.token=t}},actions:{async loadUsers({state:e,commit:t}){try{const{data:a}=await Oe.get(`users?page=${e.page.cur}&count=6`);t("setUsers",await a),e.page.total=a.total_pages}catch(a){console.log(a)}},async loadPositions({commit:e}){try{const{data:t}=await Oe.get("positions");e("setPositions",await t)}catch(t){console.log(t)}},async loadToken({commit:e}){try{const{data:t}=await Oe.get("token");e("setToken",await t)}catch(t){console.log(t)}},async createUser({commit:e,dispatch:t,getters:a},n){try{await t("loadToken");const{data:o}=await Oe.post("users",n,{headers:{"Content-Type":"multipart/form-data",Token:a.token}});e("changePage",1),t("loadUsers")}catch(o){throw new Error(o)}}}});let Ee;(0,n.ri)(Xe).use(Le).directive("mask",{mounted(e,t){"phone"===t.value&&(Ee=()=>{if(e.value.length<4)e.value="+380";else if(1===e.value.length){const t=e.value;e.value="+380"+t}const t=e.value.split("");t.splice(0,1),e.value="+"+t.map((e=>isNaN(e)||" "===e?"":e)).join("")},e.addEventListener("input",Ee),e.addEventListener("cut",Ee),e.addEventListener("paste",Ee))},unmounted(e){e.removeEventListener("input",Ee)}}).mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,r){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],r=e[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(i=!1,r<s&&(s=r));if(i){e.splice(c--,1);var p=o();void 0!==p&&(t=p)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/abz-agency-test/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,s=n[0],i=n[1],l=n[2],p=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)var c=l(a)}for(t&&t(n);p<s.length;p++)r=s[p],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},n=self["webpackChunkabz_agency_test"]=self["webpackChunkabz_agency_test"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(161)}));n=a.O(n)})();
//# sourceMappingURL=app.ab33832c.js.map